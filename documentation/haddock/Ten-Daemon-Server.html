<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Ten.Daemon.Server</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">ten-0.1.0.0: A pure functional build system</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>GHC2021</td></tr></table><p class="caption">Ten.Daemon.Server</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:startServer">startServer</a> :: <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/network-3.2.7.0-7049b8db09405a96d0f71ae1626efe11139278f72d4eaa6985a6f6f1ac21da00/share/doc/html/Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; <a href="Ten-Daemon-State.html#t:DaemonState" title="Ten.Daemon.State">DaemonState</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-Core.html#t:DaemonConfig" title="Ten.Core">DaemonConfig</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:IO" title="Prelude.Compat">IO</a> <a href="Ten-Daemon-Server.html#t:ServerControl" title="Ten.Daemon.Server">ServerControl</a></li><li class="src short"><a href="#v:stopServer">stopServer</a> :: <a href="Ten-Daemon-Server.html#t:ServerControl" title="Ten.Daemon.Server">ServerControl</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:IO" title="Prelude.Compat">IO</a> ()</li><li class="src short"><a href="#v:acceptClients">acceptClients</a> :: <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/network-3.2.7.0-7049b8db09405a96d0f71ae1626efe11139278f72d4eaa6985a6f6f1ac21da00/share/doc/html/Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; <a href="Ten-Daemon-Server.html#t:ActiveClients" title="Ten.Daemon.Server">ActiveClients</a> -&gt; TVar <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Data-Bool-Compat.html#t:Bool" title="Data.Bool.Compat">Bool</a> -&gt; <a href="Ten-Daemon-State.html#t:DaemonState" title="Ten.Daemon.State">DaemonState</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-Core.html#t:DaemonConfig" title="Ten.Core">DaemonConfig</a> -&gt; TVar <a href="Ten-Daemon-Auth.html#t:AuthDb" title="Ten.Daemon.Auth">AuthDb</a> -&gt; TVar (<a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/network-3.2.7.0-7049b8db09405a96d0f71ae1626efe11139278f72d4eaa6985a6f6f1ac21da00/share/doc/html/Network-Socket.html#t:SockAddr" title="Network.Socket">SockAddr</a> (<a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Foreign-Compat.html#t:Int" title="Foreign.Compat">Int</a>, <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/time-compat-1.9.8-da55720274a37f815d13cac6abb6faf35cf8548b66ed2658ed545137f5b523e7/share/doc/html/Data-Time-Clock-Compat.html#t:UTCTime" title="Data.Time.Clock.Compat">UTCTime</a>)) -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/System-IO-Compat.html#t:Handle" title="System.IO.Compat">Handle</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/System-IO-Compat.html#t:Handle" title="System.IO.Compat">Handle</a> -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> ()</li><li class="src short"><a href="#v:handleClient">handleClient</a> :: <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/network-3.2.7.0-7049b8db09405a96d0f71ae1626efe11139278f72d4eaa6985a6f6f1ac21da00/share/doc/html/Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/System-IO-Compat.html#t:Handle" title="System.IO.Compat">Handle</a> -&gt; <a href="Ten-Daemon-Server.html#t:ActiveClients" title="Ten.Daemon.Server">ActiveClients</a> -&gt; <a href="Ten-Daemon-State.html#t:DaemonState" title="Ten.Daemon.State">DaemonState</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-Core.html#t:DaemonConfig" title="Ten.Core">DaemonConfig</a> -&gt; TVar <a href="Ten-Daemon-Auth.html#t:AuthDb" title="Ten.Daemon.Auth">AuthDb</a> -&gt; TVar (<a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/network-3.2.7.0-7049b8db09405a96d0f71ae1626efe11139278f72d4eaa6985a6f6f1ac21da00/share/doc/html/Network-Socket.html#t:SockAddr" title="Network.Socket">SockAddr</a> (<a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Foreign-Compat.html#t:Int" title="Foreign.Compat">Int</a>, <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/time-compat-1.9.8-da55720274a37f815d13cac6abb6faf35cf8548b66ed2658ed545137f5b523e7/share/doc/html/Data-Time-Clock-Compat.html#t:UTCTime" title="Data.Time.Clock.Compat">UTCTime</a>)) -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/System-IO-Compat.html#t:Handle" title="System.IO.Compat">Handle</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/System-IO-Compat.html#t:Handle" title="System.IO.Compat">Handle</a> -&gt; TVar <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/time-compat-1.9.8-da55720274a37f815d13cac6abb6faf35cf8548b66ed2658ed545137f5b523e7/share/doc/html/Data-Time-Clock-Compat.html#t:UTCTime" title="Data.Time.Clock.Compat">UTCTime</a> -&gt; TVar <a href="Ten-Daemon-Server.html#t:ClientState" title="Ten.Daemon.Server">ClientState</a> -&gt; TVar <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Foreign-Compat.html#t:Int" title="Foreign.Compat">Int</a> -&gt; TVar (<a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Set.html#t:Set" title="Data.Set">Set</a> Permission) -&gt; TVar <a href="Ten-Core.html#t:PrivilegeTier" title="Ten.Core">PrivilegeTier</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/network-3.2.7.0-7049b8db09405a96d0f71ae1626efe11139278f72d4eaa6985a6f6f1ac21da00/share/doc/html/Network-Socket.html#t:SockAddr" title="Network.Socket">SockAddr</a> -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> ()</li><li class="src short"><a href="#v:processRequest">processRequest</a> :: <span class="keyword">forall</span> (t :: <a href="Ten-Core.html#t:PrivilegeTier" title="Ten.Core">PrivilegeTier</a>). <a href="Ten-Store.html#t:StoreContentOps" title="Ten.Store">StoreContentOps</a> t =&gt; <a href="Ten-Core.html#t:SPrivilegeTier" title="Ten.Core">SPrivilegeTier</a> t -&gt; <a href="Ten-Daemon-Protocol.html#t:DaemonRequest" title="Ten.Daemon.Protocol">DaemonRequest</a> -&gt; <a href="Ten-Daemon-State.html#t:DaemonState" title="Ten.Daemon.State">DaemonState</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-Core.html#t:DaemonConfig" title="Ten.Core">DaemonConfig</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Set.html#t:Set" title="Data.Set">Set</a> Permission -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> t <a href="Ten-Core.html#t:DaemonResponse" title="Ten.Core">DaemonResponse</a></li><li class="src short"><a href="#v:dispatchRequest">dispatchRequest</a> :: <span class="keyword">forall</span> (t :: <a href="Ten-Core.html#t:PrivilegeTier" title="Ten.Core">PrivilegeTier</a>). <a href="Ten-Store.html#t:StoreContentOps" title="Ten.Store">StoreContentOps</a> t =&gt; <a href="Ten-Core.html#t:SPrivilegeTier" title="Ten.Core">SPrivilegeTier</a> t -&gt; <a href="Ten-Daemon-Protocol.html#t:DaemonRequest" title="Ten.Daemon.Protocol">DaemonRequest</a> -&gt; <a href="Ten-Daemon-State.html#t:DaemonState" title="Ten.Daemon.State">DaemonState</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-Core.html#t:DaemonConfig" title="Ten.Core">DaemonConfig</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Set.html#t:Set" title="Data.Set">Set</a> Permission -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> t <a href="Ten-Core.html#t:DaemonResponse" title="Ten.Core">DaemonResponse</a></li><li class="src short"><a href="#v:authenticateClient">authenticateClient</a> :: <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/System-IO-Compat.html#t:Handle" title="System.IO.Compat">Handle</a> -&gt; TVar <a href="Ten-Daemon-Auth.html#t:AuthDb" title="Ten.Daemon.Auth">AuthDb</a> -&gt; TVar (<a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/network-3.2.7.0-7049b8db09405a96d0f71ae1626efe11139278f72d4eaa6985a6f6f1ac21da00/share/doc/html/Network-Socket.html#t:SockAddr" title="Network.Socket">SockAddr</a> (<a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Foreign-Compat.html#t:Int" title="Foreign.Compat">Int</a>, <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/time-compat-1.9.8-da55720274a37f815d13cac6abb6faf35cf8548b66ed2658ed545137f5b523e7/share/doc/html/Data-Time-Clock-Compat.html#t:UTCTime" title="Data.Time.Clock.Compat">UTCTime</a>)) -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/network-3.2.7.0-7049b8db09405a96d0f71ae1626efe11139278f72d4eaa6985a6f6f1ac21da00/share/doc/html/Network-Socket.html#t:SockAddr" title="Network.Socket">SockAddr</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/System-IO-Compat.html#t:Handle" title="System.IO.Compat">Handle</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:IO" title="Prelude.Compat">IO</a> (<a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Data-Either-Compat.html#t:Either" title="Data.Either.Compat">Either</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a> (<a href="Ten-Core.html#t:UserId" title="Ten.Core">UserId</a>, <a href="Ten-Core.html#t:AuthToken" title="Ten.Core">AuthToken</a>, <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Set.html#t:Set" title="Data.Set">Set</a> Permission, <a href="Ten-Core.html#t:PrivilegeTier" title="Ten.Core">PrivilegeTier</a>))</li><li class="src short"><a href="#v:handleBuildRequest">handleBuildRequest</a> :: <span class="keyword">forall</span> (t :: <a href="Ten-Core.html#t:PrivilegeTier" title="Ten.Core">PrivilegeTier</a>). <a href="Ten-Core.html#t:SPrivilegeTier" title="Ten.Core">SPrivilegeTier</a> t -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:Maybe" title="Prelude.Compat">Maybe</a> ByteString -&gt; <a href="Ten-Core.html#t:BuildRequestInfo" title="Ten.Core">BuildRequestInfo</a> -&gt; <a href="Ten-Daemon-State.html#t:DaemonState" title="Ten.Daemon.State">DaemonState</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Set.html#t:Set" title="Data.Set">Set</a> Permission -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> t <a href="Ten-Core.html#t:DaemonResponse" title="Ten.Core">DaemonResponse</a></li><li class="src short"><a href="#v:handleEvalRequest">handleEvalRequest</a> :: <span class="keyword">forall</span> (t :: <a href="Ten-Core.html#t:PrivilegeTier" title="Ten.Core">PrivilegeTier</a>). <a href="Ten-Core.html#t:SPrivilegeTier" title="Ten.Core">SPrivilegeTier</a> t -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:Maybe" title="Prelude.Compat">Maybe</a> ByteString -&gt; <a href="Ten-Core.html#t:BuildRequestInfo" title="Ten.Core">BuildRequestInfo</a> -&gt; <a href="Ten-Daemon-State.html#t:DaemonState" title="Ten.Daemon.State">DaemonState</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Set.html#t:Set" title="Data.Set">Set</a> Permission -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> t <a href="Ten-Core.html#t:DaemonResponse" title="Ten.Core">DaemonResponse</a></li><li class="src short"><a href="#v:handleBuildDerivationRequest">handleBuildDerivationRequest</a> :: <span class="keyword">forall</span> (t :: <a href="Ten-Core.html#t:PrivilegeTier" title="Ten.Core">PrivilegeTier</a>). <a href="Ten-Core.html#t:SPrivilegeTier" title="Ten.Core">SPrivilegeTier</a> t -&gt; <a href="Ten-Core.html#t:Derivation" title="Ten.Core">Derivation</a> -&gt; <a href="Ten-Core.html#t:BuildRequestInfo" title="Ten.Core">BuildRequestInfo</a> -&gt; <a href="Ten-Daemon-State.html#t:DaemonState" title="Ten.Daemon.State">DaemonState</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Set.html#t:Set" title="Data.Set">Set</a> Permission -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> t <a href="Ten-Core.html#t:DaemonResponse" title="Ten.Core">DaemonResponse</a></li><li class="src short"><a href="#v:handleCancelBuildRequest">handleCancelBuildRequest</a> :: <span class="keyword">forall</span> (t :: <a href="Ten-Core.html#t:PrivilegeTier" title="Ten.Core">PrivilegeTier</a>). <a href="Ten-Core.html#t:SPrivilegeTier" title="Ten.Core">SPrivilegeTier</a> t -&gt; <a href="Ten-Core.html#t:BuildId" title="Ten.Core">BuildId</a> -&gt; <a href="Ten-Daemon-State.html#t:DaemonState" title="Ten.Daemon.State">DaemonState</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Set.html#t:Set" title="Data.Set">Set</a> Permission -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> t <a href="Ten-Core.html#t:DaemonResponse" title="Ten.Core">DaemonResponse</a></li><li class="src short"><a href="#v:handleBuildStatusRequest">handleBuildStatusRequest</a> :: <span class="keyword">forall</span> (t :: <a href="Ten-Core.html#t:PrivilegeTier" title="Ten.Core">PrivilegeTier</a>). <a href="Ten-Core.html#t:SPrivilegeTier" title="Ten.Core">SPrivilegeTier</a> t -&gt; <a href="Ten-Core.html#t:BuildId" title="Ten.Core">BuildId</a> -&gt; <a href="Ten-Daemon-State.html#t:DaemonState" title="Ten.Daemon.State">DaemonState</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Set.html#t:Set" title="Data.Set">Set</a> Permission -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> t <a href="Ten-Core.html#t:DaemonResponse" title="Ten.Core">DaemonResponse</a></li><li class="src short"><a href="#v:handleStoreRequest">handleStoreRequest</a> :: <span class="keyword">forall</span> (t :: <a href="Ten-Core.html#t:PrivilegeTier" title="Ten.Core">PrivilegeTier</a>). <a href="Ten-Store.html#t:StoreContentOps" title="Ten.Store">StoreContentOps</a> t =&gt; <a href="Ten-Core.html#t:SPrivilegeTier" title="Ten.Core">SPrivilegeTier</a> t -&gt; StoreCommand -&gt; <a href="Ten-Daemon-State.html#t:DaemonState" title="Ten.Daemon.State">DaemonState</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-Core.html#t:DaemonConfig" title="Ten.Core">DaemonConfig</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Set.html#t:Set" title="Data.Set">Set</a> Permission -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> t <a href="Ten-Core.html#t:DaemonResponse" title="Ten.Core">DaemonResponse</a></li><li class="src short"><a href="#v:handleGCRequest">handleGCRequest</a> :: <span class="keyword">forall</span> (t :: <a href="Ten-Core.html#t:PrivilegeTier" title="Ten.Core">PrivilegeTier</a>). <a href="Ten-Core.html#t:SPrivilegeTier" title="Ten.Core">SPrivilegeTier</a> t -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Data-Bool-Compat.html#t:Bool" title="Data.Bool.Compat">Bool</a> -&gt; <a href="Ten-Daemon-State.html#t:DaemonState" title="Ten.Daemon.State">DaemonState</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-Core.html#t:DaemonConfig" title="Ten.Core">DaemonConfig</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Set.html#t:Set" title="Data.Set">Set</a> Permission -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> t <a href="Ten-Core.html#t:DaemonResponse" title="Ten.Core">DaemonResponse</a></li><li class="src short"><a href="#v:handleStatusRequest">handleStatusRequest</a> :: <span class="keyword">forall</span> (t :: <a href="Ten-Core.html#t:PrivilegeTier" title="Ten.Core">PrivilegeTier</a>). <a href="Ten-Core.html#t:SPrivilegeTier" title="Ten.Core">SPrivilegeTier</a> t -&gt; <a href="Ten-Daemon-State.html#t:DaemonState" title="Ten.Daemon.State">DaemonState</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-Core.html#t:DaemonConfig" title="Ten.Core">DaemonConfig</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Set.html#t:Set" title="Data.Set">Set</a> Permission -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> t <a href="Ten-Core.html#t:DaemonResponse" title="Ten.Core">DaemonResponse</a></li><li class="src short"><a href="#v:handleConfigRequest">handleConfigRequest</a> :: <span class="keyword">forall</span> (t :: <a href="Ten-Core.html#t:PrivilegeTier" title="Ten.Core">PrivilegeTier</a>). <a href="Ten-Core.html#t:SPrivilegeTier" title="Ten.Core">SPrivilegeTier</a> t -&gt; <a href="Ten-Daemon-State.html#t:DaemonState" title="Ten.Daemon.State">DaemonState</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-Core.html#t:DaemonConfig" title="Ten.Core">DaemonConfig</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Set.html#t:Set" title="Data.Set">Set</a> Permission -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> t <a href="Ten-Core.html#t:DaemonResponse" title="Ten.Core">DaemonResponse</a></li><li class="src short"><a href="#v:handleShutdownRequest">handleShutdownRequest</a> :: <span class="keyword">forall</span> (t :: <a href="Ten-Core.html#t:PrivilegeTier" title="Ten.Core">PrivilegeTier</a>). <a href="Ten-Core.html#t:SPrivilegeTier" title="Ten.Core">SPrivilegeTier</a> t -&gt; <a href="Ten-Daemon-State.html#t:DaemonState" title="Ten.Daemon.State">DaemonState</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-Core.html#t:DaemonConfig" title="Ten.Core">DaemonConfig</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Set.html#t:Set" title="Data.Set">Set</a> Permission -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> t <a href="Ten-Core.html#t:DaemonResponse" title="Ten.Core">DaemonResponse</a></li><li class="src short"><a href="#v:handleDerivationRequest">handleDerivationRequest</a> :: <span class="keyword">forall</span> (t :: <a href="Ten-Core.html#t:PrivilegeTier" title="Ten.Core">PrivilegeTier</a>). <a href="Ten-Core.html#t:SPrivilegeTier" title="Ten.Core">SPrivilegeTier</a> t -&gt; DerivationCommand -&gt; <a href="Ten-Daemon-State.html#t:DaemonState" title="Ten.Daemon.State">DaemonState</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-Core.html#t:DaemonConfig" title="Ten.Core">DaemonConfig</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Set.html#t:Set" title="Data.Set">Set</a> Permission -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> t <a href="Ten-Core.html#t:DaemonResponse" title="Ten.Core">DaemonResponse</a></li><li class="src short"><a href="#v:createServerSocket">createServerSocket</a> :: <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:FilePath" title="Prelude.Compat">FilePath</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:IO" title="Prelude.Compat">IO</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/network-3.2.7.0-7049b8db09405a96d0f71ae1626efe11139278f72d4eaa6985a6f6f1ac21da00/share/doc/html/Network-Socket.html#t:Socket" title="Network.Socket">Socket</a></li><li class="src short"><a href="#v:closeServerSocket">closeServerSocket</a> :: <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/network-3.2.7.0-7049b8db09405a96d0f71ae1626efe11139278f72d4eaa6985a6f6f1ac21da00/share/doc/html/Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:FilePath" title="Prelude.Compat">FilePath</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:IO" title="Prelude.Compat">IO</a> ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:ClientInfo">ClientInfo</a> = <a href="#v:ClientInfo">ClientInfo</a> {<ul class="subs"><li><a href="#v:ciThreadId">ciThreadId</a> :: <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Control-Concurrent-Compat.html#t:ThreadId" title="Control.Concurrent.Compat">ThreadId</a></li><li><a href="#v:ciSocket">ciSocket</a> :: <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/network-3.2.7.0-7049b8db09405a96d0f71ae1626efe11139278f72d4eaa6985a6f6f1ac21da00/share/doc/html/Network-Socket.html#t:Socket" title="Network.Socket">Socket</a></li><li><a href="#v:ciHandle">ciHandle</a> :: <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/System-IO-Compat.html#t:Handle" title="System.IO.Compat">Handle</a></li><li><a href="#v:ciUserId">ciUserId</a> :: <a href="Ten-Core.html#t:UserId" title="Ten.Core">UserId</a></li><li><a href="#v:ciAuthToken">ciAuthToken</a> :: <a href="Ten-Core.html#t:AuthToken" title="Ten.Core">AuthToken</a></li><li><a href="#v:ciConnectTime">ciConnectTime</a> :: <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/time-compat-1.9.8-da55720274a37f815d13cac6abb6faf35cf8548b66ed2658ed545137f5b523e7/share/doc/html/Data-Time-Clock-Compat.html#t:UTCTime" title="Data.Time.Clock.Compat">UTCTime</a></li><li><a href="#v:ciLastActivity">ciLastActivity</a> :: TVar <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/time-compat-1.9.8-da55720274a37f815d13cac6abb6faf35cf8548b66ed2658ed545137f5b523e7/share/doc/html/Data-Time-Clock-Compat.html#t:UTCTime" title="Data.Time.Clock.Compat">UTCTime</a></li><li><a href="#v:ciState">ciState</a> :: TVar <a href="Ten-Daemon-Server.html#t:ClientState" title="Ten.Daemon.Server">ClientState</a></li><li><a href="#v:ciAddress">ciAddress</a> :: <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/network-3.2.7.0-7049b8db09405a96d0f71ae1626efe11139278f72d4eaa6985a6f6f1ac21da00/share/doc/html/Network-Socket.html#t:SockAddr" title="Network.Socket">SockAddr</a></li><li><a href="#v:ciRequestCount">ciRequestCount</a> :: TVar <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Foreign-Compat.html#t:Int" title="Foreign.Compat">Int</a></li><li><a href="#v:ciPermissions">ciPermissions</a> :: TVar (<a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Set.html#t:Set" title="Data.Set">Set</a> Permission)</li><li><a href="#v:ciPrivilegeTier">ciPrivilegeTier</a> :: TVar <a href="Ten-Core.html#t:PrivilegeTier" title="Ten.Core">PrivilegeTier</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:ClientState">ClientState</a><ul class="subs"><li>= <a href="#v:Authenticating">Authenticating</a></li><li>| <a href="#v:Active">Active</a></li><li>| <a href="#v:ShuttingDown">ShuttingDown</a></li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:ActiveClients">ActiveClients</a> = TVar (<a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Control-Concurrent-Compat.html#t:ThreadId" title="Control.Concurrent.Compat">ThreadId</a> <a href="Ten-Daemon-Server.html#t:ClientInfo" title="Ten.Daemon.Server">ClientInfo</a>)</li><li class="src short"><a href="#v:addClient">addClient</a> :: <a href="Ten-Daemon-Server.html#t:ActiveClients" title="Ten.Daemon.Server">ActiveClients</a> -&gt; <a href="Ten-Daemon-Server.html#t:ClientInfo" title="Ten.Daemon.Server">ClientInfo</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:IO" title="Prelude.Compat">IO</a> ()</li><li class="src short"><a href="#v:removeClient">removeClient</a> :: <a href="Ten-Daemon-Server.html#t:ActiveClients" title="Ten.Daemon.Server">ActiveClients</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Control-Concurrent-Compat.html#t:ThreadId" title="Control.Concurrent.Compat">ThreadId</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:IO" title="Prelude.Compat">IO</a> ()</li><li class="src short"><a href="#v:broadcastToClients">broadcastToClients</a> :: <a href="Ten-Daemon-Server.html#t:ActiveClients" title="Ten.Daemon.Server">ActiveClients</a> -&gt; ByteString -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:IO" title="Prelude.Compat">IO</a> ()</li><li class="src short"><a href="#v:validateRequestPermissions">validateRequestPermissions</a> :: <span class="keyword">forall</span> (t :: <a href="Ten-Core.html#t:PrivilegeTier" title="Ten.Core">PrivilegeTier</a>). <a href="Ten-Daemon-Protocol.html#t:DaemonRequest" title="Ten.Daemon.Protocol">DaemonRequest</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Set.html#t:Set" title="Data.Set">Set</a> Permission -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/System-IO-Compat.html#t:Handle" title="System.IO.Compat">Handle</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/network-3.2.7.0-7049b8db09405a96d0f71ae1626efe11139278f72d4eaa6985a6f6f1ac21da00/share/doc/html/Network-Socket.html#t:SockAddr" title="Network.Socket">SockAddr</a> -&gt; <a href="Ten-Core.html#t:SPrivilegeTier" title="Ten.Core">SPrivilegeTier</a> t -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> t <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Data-Bool-Compat.html#t:Bool" title="Data.Bool.Compat">Bool</a></li><li class="src short"><a href="#v:logSecurityEvent">logSecurityEvent</a> :: <a href="Ten-Daemon-Server.html#t:ServerControl" title="Ten.Daemon.Server">ServerControl</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:IO" title="Prelude.Compat">IO</a> ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:ServerControl">ServerControl</a> = <a href="#v:ServerControl">ServerControl</a> {<ul class="subs"><li><a href="#v:scSocket">scSocket</a> :: <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/network-3.2.7.0-7049b8db09405a96d0f71ae1626efe11139278f72d4eaa6985a6f6f1ac21da00/share/doc/html/Network-Socket.html#t:Socket" title="Network.Socket">Socket</a></li><li><a href="#v:scThread">scThread</a> :: <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Control-Concurrent-Compat.html#t:ThreadId" title="Control.Concurrent.Compat">ThreadId</a></li><li><a href="#v:scClients">scClients</a> :: <a href="Ten-Daemon-Server.html#t:ActiveClients" title="Ten.Daemon.Server">ActiveClients</a></li><li><a href="#v:scShutdown">scShutdown</a> :: TVar <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Data-Bool-Compat.html#t:Bool" title="Data.Bool.Compat">Bool</a></li><li><a href="#v:scState">scState</a> :: <a href="Ten-Daemon-State.html#t:DaemonState" title="Ten.Daemon.State">DaemonState</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a></li><li><a href="#v:scConfig">scConfig</a> :: <a href="Ten-Core.html#t:DaemonConfig" title="Ten.Core">DaemonConfig</a></li><li><a href="#v:scAuthDb">scAuthDb</a> :: TVar <a href="Ten-Daemon-Auth.html#t:AuthDb" title="Ten.Daemon.Auth">AuthDb</a></li><li><a href="#v:scRateLimiter">scRateLimiter</a> :: TVar (<a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/network-3.2.7.0-7049b8db09405a96d0f71ae1626efe11139278f72d4eaa6985a6f6f1ac21da00/share/doc/html/Network-Socket.html#t:SockAddr" title="Network.Socket">SockAddr</a> (<a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Foreign-Compat.html#t:Int" title="Foreign.Compat">Int</a>, <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/time-compat-1.9.8-da55720274a37f815d13cac6abb6faf35cf8548b66ed2658ed545137f5b523e7/share/doc/html/Data-Time-Clock-Compat.html#t:UTCTime" title="Data.Time.Clock.Compat">UTCTime</a>))</li><li><a href="#v:scSecurityLog">scSecurityLog</a> :: <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/System-IO-Compat.html#t:Handle" title="System.IO.Compat">Handle</a></li><li><a href="#v:scAccessLog">scAccessLog</a> :: <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/System-IO-Compat.html#t:Handle" title="System.IO.Compat">Handle</a></li><li><a href="#v:scProcesses">scProcesses</a> :: TVar (<a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="Ten-Core.html#t:BuildId" title="Ten.Core">BuildId</a> ProcessID)</li></ul>}</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:startServer" class="def">startServer</a> :: <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/network-3.2.7.0-7049b8db09405a96d0f71ae1626efe11139278f72d4eaa6985a6f6f1ac21da00/share/doc/html/Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; <a href="Ten-Daemon-State.html#t:DaemonState" title="Ten.Daemon.State">DaemonState</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-Core.html#t:DaemonConfig" title="Ten.Core">DaemonConfig</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:IO" title="Prelude.Compat">IO</a> <a href="Ten-Daemon-Server.html#t:ServerControl" title="Ten.Daemon.Server">ServerControl</a> <a href="#v:startServer" class="selflink">#</a></p><div class="doc"><p>Start the server</p></div></div><div class="top"><p class="src"><a id="v:stopServer" class="def">stopServer</a> :: <a href="Ten-Daemon-Server.html#t:ServerControl" title="Ten.Daemon.Server">ServerControl</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:IO" title="Prelude.Compat">IO</a> () <a href="#v:stopServer" class="selflink">#</a></p><div class="doc"><p>Stop the server</p></div></div><div class="top"><p class="src"><a id="v:acceptClients" class="def">acceptClients</a> :: <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/network-3.2.7.0-7049b8db09405a96d0f71ae1626efe11139278f72d4eaa6985a6f6f1ac21da00/share/doc/html/Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; <a href="Ten-Daemon-Server.html#t:ActiveClients" title="Ten.Daemon.Server">ActiveClients</a> -&gt; TVar <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Data-Bool-Compat.html#t:Bool" title="Data.Bool.Compat">Bool</a> -&gt; <a href="Ten-Daemon-State.html#t:DaemonState" title="Ten.Daemon.State">DaemonState</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-Core.html#t:DaemonConfig" title="Ten.Core">DaemonConfig</a> -&gt; TVar <a href="Ten-Daemon-Auth.html#t:AuthDb" title="Ten.Daemon.Auth">AuthDb</a> -&gt; TVar (<a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/network-3.2.7.0-7049b8db09405a96d0f71ae1626efe11139278f72d4eaa6985a6f6f1ac21da00/share/doc/html/Network-Socket.html#t:SockAddr" title="Network.Socket">SockAddr</a> (<a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Foreign-Compat.html#t:Int" title="Foreign.Compat">Int</a>, <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/time-compat-1.9.8-da55720274a37f815d13cac6abb6faf35cf8548b66ed2658ed545137f5b523e7/share/doc/html/Data-Time-Clock-Compat.html#t:UTCTime" title="Data.Time.Clock.Compat">UTCTime</a>)) -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/System-IO-Compat.html#t:Handle" title="System.IO.Compat">Handle</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/System-IO-Compat.html#t:Handle" title="System.IO.Compat">Handle</a> -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> () <a href="#v:acceptClients" class="selflink">#</a></p><div class="doc"><p>Main loop to accept client connections with proper privilege evidence</p></div></div><div class="top"><p class="src"><a id="v:handleClient" class="def">handleClient</a> :: <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/network-3.2.7.0-7049b8db09405a96d0f71ae1626efe11139278f72d4eaa6985a6f6f1ac21da00/share/doc/html/Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/System-IO-Compat.html#t:Handle" title="System.IO.Compat">Handle</a> -&gt; <a href="Ten-Daemon-Server.html#t:ActiveClients" title="Ten.Daemon.Server">ActiveClients</a> -&gt; <a href="Ten-Daemon-State.html#t:DaemonState" title="Ten.Daemon.State">DaemonState</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-Core.html#t:DaemonConfig" title="Ten.Core">DaemonConfig</a> -&gt; TVar <a href="Ten-Daemon-Auth.html#t:AuthDb" title="Ten.Daemon.Auth">AuthDb</a> -&gt; TVar (<a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/network-3.2.7.0-7049b8db09405a96d0f71ae1626efe11139278f72d4eaa6985a6f6f1ac21da00/share/doc/html/Network-Socket.html#t:SockAddr" title="Network.Socket">SockAddr</a> (<a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Foreign-Compat.html#t:Int" title="Foreign.Compat">Int</a>, <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/time-compat-1.9.8-da55720274a37f815d13cac6abb6faf35cf8548b66ed2658ed545137f5b523e7/share/doc/html/Data-Time-Clock-Compat.html#t:UTCTime" title="Data.Time.Clock.Compat">UTCTime</a>)) -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/System-IO-Compat.html#t:Handle" title="System.IO.Compat">Handle</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/System-IO-Compat.html#t:Handle" title="System.IO.Compat">Handle</a> -&gt; TVar <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/time-compat-1.9.8-da55720274a37f815d13cac6abb6faf35cf8548b66ed2658ed545137f5b523e7/share/doc/html/Data-Time-Clock-Compat.html#t:UTCTime" title="Data.Time.Clock.Compat">UTCTime</a> -&gt; TVar <a href="Ten-Daemon-Server.html#t:ClientState" title="Ten.Daemon.Server">ClientState</a> -&gt; TVar <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Foreign-Compat.html#t:Int" title="Foreign.Compat">Int</a> -&gt; TVar (<a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Set.html#t:Set" title="Data.Set">Set</a> Permission) -&gt; TVar <a href="Ten-Core.html#t:PrivilegeTier" title="Ten.Core">PrivilegeTier</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/network-3.2.7.0-7049b8db09405a96d0f71ae1626efe11139278f72d4eaa6985a6f6f1ac21da00/share/doc/html/Network-Socket.html#t:SockAddr" title="Network.Socket">SockAddr</a> -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> () <a href="#v:handleClient" class="selflink">#</a></p><div class="doc"><p>Handle a client connection with proper privilege transitions</p></div></div><div class="top"><p class="src"><a id="v:processRequest" class="def">processRequest</a> :: <span class="keyword">forall</span> (t :: <a href="Ten-Core.html#t:PrivilegeTier" title="Ten.Core">PrivilegeTier</a>). <a href="Ten-Store.html#t:StoreContentOps" title="Ten.Store">StoreContentOps</a> t =&gt; <a href="Ten-Core.html#t:SPrivilegeTier" title="Ten.Core">SPrivilegeTier</a> t -&gt; <a href="Ten-Daemon-Protocol.html#t:DaemonRequest" title="Ten.Daemon.Protocol">DaemonRequest</a> -&gt; <a href="Ten-Daemon-State.html#t:DaemonState" title="Ten.Daemon.State">DaemonState</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-Core.html#t:DaemonConfig" title="Ten.Core">DaemonConfig</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Set.html#t:Set" title="Data.Set">Set</a> Permission -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> t <a href="Ten-Core.html#t:DaemonResponse" title="Ten.Core">DaemonResponse</a> <a href="#v:processRequest" class="selflink">#</a></p><div class="doc"><p>Process a client request with proper privilege tier</p></div></div><div class="top"><p class="src"><a id="v:dispatchRequest" class="def">dispatchRequest</a> :: <span class="keyword">forall</span> (t :: <a href="Ten-Core.html#t:PrivilegeTier" title="Ten.Core">PrivilegeTier</a>). <a href="Ten-Store.html#t:StoreContentOps" title="Ten.Store">StoreContentOps</a> t =&gt; <a href="Ten-Core.html#t:SPrivilegeTier" title="Ten.Core">SPrivilegeTier</a> t -&gt; <a href="Ten-Daemon-Protocol.html#t:DaemonRequest" title="Ten.Daemon.Protocol">DaemonRequest</a> -&gt; <a href="Ten-Daemon-State.html#t:DaemonState" title="Ten.Daemon.State">DaemonState</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-Core.html#t:DaemonConfig" title="Ten.Core">DaemonConfig</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Set.html#t:Set" title="Data.Set">Set</a> Permission -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> t <a href="Ten-Core.html#t:DaemonResponse" title="Ten.Core">DaemonResponse</a> <a href="#v:dispatchRequest" class="selflink">#</a></p><div class="doc"><p>Dispatch a request to the appropriate handler based on privilege tier</p></div></div><div class="top"><p class="src"><a id="v:authenticateClient" class="def">authenticateClient</a> :: <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/System-IO-Compat.html#t:Handle" title="System.IO.Compat">Handle</a> -&gt; TVar <a href="Ten-Daemon-Auth.html#t:AuthDb" title="Ten.Daemon.Auth">AuthDb</a> -&gt; TVar (<a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/network-3.2.7.0-7049b8db09405a96d0f71ae1626efe11139278f72d4eaa6985a6f6f1ac21da00/share/doc/html/Network-Socket.html#t:SockAddr" title="Network.Socket">SockAddr</a> (<a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Foreign-Compat.html#t:Int" title="Foreign.Compat">Int</a>, <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/time-compat-1.9.8-da55720274a37f815d13cac6abb6faf35cf8548b66ed2658ed545137f5b523e7/share/doc/html/Data-Time-Clock-Compat.html#t:UTCTime" title="Data.Time.Clock.Compat">UTCTime</a>)) -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/network-3.2.7.0-7049b8db09405a96d0f71ae1626efe11139278f72d4eaa6985a6f6f1ac21da00/share/doc/html/Network-Socket.html#t:SockAddr" title="Network.Socket">SockAddr</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/System-IO-Compat.html#t:Handle" title="System.IO.Compat">Handle</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:IO" title="Prelude.Compat">IO</a> (<a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Data-Either-Compat.html#t:Either" title="Data.Either.Compat">Either</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a> (<a href="Ten-Core.html#t:UserId" title="Ten.Core">UserId</a>, <a href="Ten-Core.html#t:AuthToken" title="Ten.Core">AuthToken</a>, <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Set.html#t:Set" title="Data.Set">Set</a> Permission, <a href="Ten-Core.html#t:PrivilegeTier" title="Ten.Core">PrivilegeTier</a>)) <a href="#v:authenticateClient" class="selflink">#</a></p><div class="doc"><p>Authenticate a client</p></div></div><div class="top"><p class="src"><a id="v:handleBuildRequest" class="def">handleBuildRequest</a> :: <span class="keyword">forall</span> (t :: <a href="Ten-Core.html#t:PrivilegeTier" title="Ten.Core">PrivilegeTier</a>). <a href="Ten-Core.html#t:SPrivilegeTier" title="Ten.Core">SPrivilegeTier</a> t -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:Maybe" title="Prelude.Compat">Maybe</a> ByteString -&gt; <a href="Ten-Core.html#t:BuildRequestInfo" title="Ten.Core">BuildRequestInfo</a> -&gt; <a href="Ten-Daemon-State.html#t:DaemonState" title="Ten.Daemon.State">DaemonState</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Set.html#t:Set" title="Data.Set">Set</a> Permission -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> t <a href="Ten-Core.html#t:DaemonResponse" title="Ten.Core">DaemonResponse</a> <a href="#v:handleBuildRequest" class="selflink">#</a></p><div class="doc"><p>Handler implementations</p></div></div><div class="top"><p class="src"><a id="v:handleEvalRequest" class="def">handleEvalRequest</a> :: <span class="keyword">forall</span> (t :: <a href="Ten-Core.html#t:PrivilegeTier" title="Ten.Core">PrivilegeTier</a>). <a href="Ten-Core.html#t:SPrivilegeTier" title="Ten.Core">SPrivilegeTier</a> t -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:Maybe" title="Prelude.Compat">Maybe</a> ByteString -&gt; <a href="Ten-Core.html#t:BuildRequestInfo" title="Ten.Core">BuildRequestInfo</a> -&gt; <a href="Ten-Daemon-State.html#t:DaemonState" title="Ten.Daemon.State">DaemonState</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Set.html#t:Set" title="Data.Set">Set</a> Permission -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> t <a href="Ten-Core.html#t:DaemonResponse" title="Ten.Core">DaemonResponse</a> <a href="#v:handleEvalRequest" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:handleBuildDerivationRequest" class="def">handleBuildDerivationRequest</a> :: <span class="keyword">forall</span> (t :: <a href="Ten-Core.html#t:PrivilegeTier" title="Ten.Core">PrivilegeTier</a>). <a href="Ten-Core.html#t:SPrivilegeTier" title="Ten.Core">SPrivilegeTier</a> t -&gt; <a href="Ten-Core.html#t:Derivation" title="Ten.Core">Derivation</a> -&gt; <a href="Ten-Core.html#t:BuildRequestInfo" title="Ten.Core">BuildRequestInfo</a> -&gt; <a href="Ten-Daemon-State.html#t:DaemonState" title="Ten.Daemon.State">DaemonState</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Set.html#t:Set" title="Data.Set">Set</a> Permission -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> t <a href="Ten-Core.html#t:DaemonResponse" title="Ten.Core">DaemonResponse</a> <a href="#v:handleBuildDerivationRequest" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:handleCancelBuildRequest" class="def">handleCancelBuildRequest</a> :: <span class="keyword">forall</span> (t :: <a href="Ten-Core.html#t:PrivilegeTier" title="Ten.Core">PrivilegeTier</a>). <a href="Ten-Core.html#t:SPrivilegeTier" title="Ten.Core">SPrivilegeTier</a> t -&gt; <a href="Ten-Core.html#t:BuildId" title="Ten.Core">BuildId</a> -&gt; <a href="Ten-Daemon-State.html#t:DaemonState" title="Ten.Daemon.State">DaemonState</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Set.html#t:Set" title="Data.Set">Set</a> Permission -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> t <a href="Ten-Core.html#t:DaemonResponse" title="Ten.Core">DaemonResponse</a> <a href="#v:handleCancelBuildRequest" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:handleBuildStatusRequest" class="def">handleBuildStatusRequest</a> :: <span class="keyword">forall</span> (t :: <a href="Ten-Core.html#t:PrivilegeTier" title="Ten.Core">PrivilegeTier</a>). <a href="Ten-Core.html#t:SPrivilegeTier" title="Ten.Core">SPrivilegeTier</a> t -&gt; <a href="Ten-Core.html#t:BuildId" title="Ten.Core">BuildId</a> -&gt; <a href="Ten-Daemon-State.html#t:DaemonState" title="Ten.Daemon.State">DaemonState</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Set.html#t:Set" title="Data.Set">Set</a> Permission -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> t <a href="Ten-Core.html#t:DaemonResponse" title="Ten.Core">DaemonResponse</a> <a href="#v:handleBuildStatusRequest" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:handleStoreRequest" class="def">handleStoreRequest</a> :: <span class="keyword">forall</span> (t :: <a href="Ten-Core.html#t:PrivilegeTier" title="Ten.Core">PrivilegeTier</a>). <a href="Ten-Store.html#t:StoreContentOps" title="Ten.Store">StoreContentOps</a> t =&gt; <a href="Ten-Core.html#t:SPrivilegeTier" title="Ten.Core">SPrivilegeTier</a> t -&gt; StoreCommand -&gt; <a href="Ten-Daemon-State.html#t:DaemonState" title="Ten.Daemon.State">DaemonState</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-Core.html#t:DaemonConfig" title="Ten.Core">DaemonConfig</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Set.html#t:Set" title="Data.Set">Set</a> Permission -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> t <a href="Ten-Core.html#t:DaemonResponse" title="Ten.Core">DaemonResponse</a> <a href="#v:handleStoreRequest" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:handleGCRequest" class="def">handleGCRequest</a> :: <span class="keyword">forall</span> (t :: <a href="Ten-Core.html#t:PrivilegeTier" title="Ten.Core">PrivilegeTier</a>). <a href="Ten-Core.html#t:SPrivilegeTier" title="Ten.Core">SPrivilegeTier</a> t -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Data-Bool-Compat.html#t:Bool" title="Data.Bool.Compat">Bool</a> -&gt; <a href="Ten-Daemon-State.html#t:DaemonState" title="Ten.Daemon.State">DaemonState</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-Core.html#t:DaemonConfig" title="Ten.Core">DaemonConfig</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Set.html#t:Set" title="Data.Set">Set</a> Permission -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> t <a href="Ten-Core.html#t:DaemonResponse" title="Ten.Core">DaemonResponse</a> <a href="#v:handleGCRequest" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:handleStatusRequest" class="def">handleStatusRequest</a> :: <span class="keyword">forall</span> (t :: <a href="Ten-Core.html#t:PrivilegeTier" title="Ten.Core">PrivilegeTier</a>). <a href="Ten-Core.html#t:SPrivilegeTier" title="Ten.Core">SPrivilegeTier</a> t -&gt; <a href="Ten-Daemon-State.html#t:DaemonState" title="Ten.Daemon.State">DaemonState</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-Core.html#t:DaemonConfig" title="Ten.Core">DaemonConfig</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Set.html#t:Set" title="Data.Set">Set</a> Permission -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> t <a href="Ten-Core.html#t:DaemonResponse" title="Ten.Core">DaemonResponse</a> <a href="#v:handleStatusRequest" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:handleConfigRequest" class="def">handleConfigRequest</a> :: <span class="keyword">forall</span> (t :: <a href="Ten-Core.html#t:PrivilegeTier" title="Ten.Core">PrivilegeTier</a>). <a href="Ten-Core.html#t:SPrivilegeTier" title="Ten.Core">SPrivilegeTier</a> t -&gt; <a href="Ten-Daemon-State.html#t:DaemonState" title="Ten.Daemon.State">DaemonState</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-Core.html#t:DaemonConfig" title="Ten.Core">DaemonConfig</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Set.html#t:Set" title="Data.Set">Set</a> Permission -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> t <a href="Ten-Core.html#t:DaemonResponse" title="Ten.Core">DaemonResponse</a> <a href="#v:handleConfigRequest" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:handleShutdownRequest" class="def">handleShutdownRequest</a> :: <span class="keyword">forall</span> (t :: <a href="Ten-Core.html#t:PrivilegeTier" title="Ten.Core">PrivilegeTier</a>). <a href="Ten-Core.html#t:SPrivilegeTier" title="Ten.Core">SPrivilegeTier</a> t -&gt; <a href="Ten-Daemon-State.html#t:DaemonState" title="Ten.Daemon.State">DaemonState</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-Core.html#t:DaemonConfig" title="Ten.Core">DaemonConfig</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Set.html#t:Set" title="Data.Set">Set</a> Permission -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> t <a href="Ten-Core.html#t:DaemonResponse" title="Ten.Core">DaemonResponse</a> <a href="#v:handleShutdownRequest" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:handleDerivationRequest" class="def">handleDerivationRequest</a> :: <span class="keyword">forall</span> (t :: <a href="Ten-Core.html#t:PrivilegeTier" title="Ten.Core">PrivilegeTier</a>). <a href="Ten-Core.html#t:SPrivilegeTier" title="Ten.Core">SPrivilegeTier</a> t -&gt; DerivationCommand -&gt; <a href="Ten-Daemon-State.html#t:DaemonState" title="Ten.Daemon.State">DaemonState</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-Core.html#t:DaemonConfig" title="Ten.Core">DaemonConfig</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Set.html#t:Set" title="Data.Set">Set</a> Permission -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> t <a href="Ten-Core.html#t:DaemonResponse" title="Ten.Core">DaemonResponse</a> <a href="#v:handleDerivationRequest" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:createServerSocket" class="def">createServerSocket</a> :: <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:FilePath" title="Prelude.Compat">FilePath</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:IO" title="Prelude.Compat">IO</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/network-3.2.7.0-7049b8db09405a96d0f71ae1626efe11139278f72d4eaa6985a6f6f1ac21da00/share/doc/html/Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> <a href="#v:createServerSocket" class="selflink">#</a></p><div class="doc"><p>Create a server socket</p></div></div><div class="top"><p class="src"><a id="v:closeServerSocket" class="def">closeServerSocket</a> :: <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/network-3.2.7.0-7049b8db09405a96d0f71ae1626efe11139278f72d4eaa6985a6f6f1ac21da00/share/doc/html/Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:FilePath" title="Prelude.Compat">FilePath</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:IO" title="Prelude.Compat">IO</a> () <a href="#v:closeServerSocket" class="selflink">#</a></p><div class="doc"><p>Close a server socket</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ClientInfo" class="def">ClientInfo</a> <a href="#t:ClientInfo" class="selflink">#</a></p><div class="doc"><p>Information about a connected client</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ClientInfo" class="def">ClientInfo</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:ciThreadId" class="def">ciThreadId</a> :: <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Control-Concurrent-Compat.html#t:ThreadId" title="Control.Concurrent.Compat">ThreadId</a></dfn><div class="doc"><p>Thread ID handling the client</p></div></li><li><dfn class="src"><a id="v:ciSocket" class="def">ciSocket</a> :: <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/network-3.2.7.0-7049b8db09405a96d0f71ae1626efe11139278f72d4eaa6985a6f6f1ac21da00/share/doc/html/Network-Socket.html#t:Socket" title="Network.Socket">Socket</a></dfn><div class="doc"><p>Client socket</p></div></li><li><dfn class="src"><a id="v:ciHandle" class="def">ciHandle</a> :: <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/System-IO-Compat.html#t:Handle" title="System.IO.Compat">Handle</a></dfn><div class="doc"><p>Socket handle for I/O</p></div></li><li><dfn class="src"><a id="v:ciUserId" class="def">ciUserId</a> :: <a href="Ten-Core.html#t:UserId" title="Ten.Core">UserId</a></dfn><div class="doc"><p>Authenticated user ID</p></div></li><li><dfn class="src"><a id="v:ciAuthToken" class="def">ciAuthToken</a> :: <a href="Ten-Core.html#t:AuthToken" title="Ten.Core">AuthToken</a></dfn><div class="doc"><p>Authentication token</p></div></li><li><dfn class="src"><a id="v:ciConnectTime" class="def">ciConnectTime</a> :: <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/time-compat-1.9.8-da55720274a37f815d13cac6abb6faf35cf8548b66ed2658ed545137f5b523e7/share/doc/html/Data-Time-Clock-Compat.html#t:UTCTime" title="Data.Time.Clock.Compat">UTCTime</a></dfn><div class="doc"><p>When the client connected</p></div></li><li><dfn class="src"><a id="v:ciLastActivity" class="def">ciLastActivity</a> :: TVar <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/time-compat-1.9.8-da55720274a37f815d13cac6abb6faf35cf8548b66ed2658ed545137f5b523e7/share/doc/html/Data-Time-Clock-Compat.html#t:UTCTime" title="Data.Time.Clock.Compat">UTCTime</a></dfn><div class="doc"><p>Last client activity time</p></div></li><li><dfn class="src"><a id="v:ciState" class="def">ciState</a> :: TVar <a href="Ten-Daemon-Server.html#t:ClientState" title="Ten.Daemon.Server">ClientState</a></dfn><div class="doc"><p>Current client state</p></div></li><li><dfn class="src"><a id="v:ciAddress" class="def">ciAddress</a> :: <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/network-3.2.7.0-7049b8db09405a96d0f71ae1626efe11139278f72d4eaa6985a6f6f1ac21da00/share/doc/html/Network-Socket.html#t:SockAddr" title="Network.Socket">SockAddr</a></dfn><div class="doc"><p>Client socket address</p></div></li><li><dfn class="src"><a id="v:ciRequestCount" class="def">ciRequestCount</a> :: TVar <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Foreign-Compat.html#t:Int" title="Foreign.Compat">Int</a></dfn><div class="doc"><p>Number of requests processed</p></div></li><li><dfn class="src"><a id="v:ciPermissions" class="def">ciPermissions</a> :: TVar (<a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Set.html#t:Set" title="Data.Set">Set</a> Permission)</dfn><div class="doc"><p>Client permissions</p></div></li><li><dfn class="src"><a id="v:ciPrivilegeTier" class="def">ciPrivilegeTier</a> :: TVar <a href="Ten-Core.html#t:PrivilegeTier" title="Ten.Core">PrivilegeTier</a></dfn><div class="doc"><p>Assigned privilege tier</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ClientInfo">Instances</h4><details id="i:ClientInfo" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ClientInfo:Show:1"></span> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:Show" title="Prelude.Compat">Show</a> <a href="Ten-Daemon-Server.html#t:ClientInfo" title="Ten.Daemon.Server">ClientInfo</a></span> <a href="#t:ClientInfo" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ClientInfo:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ten-Daemon-Server.html">Ten.Daemon.Server</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Foreign-Compat.html#t:Int" title="Foreign.Compat">Int</a> -&gt; <a href="Ten-Daemon-Server.html#t:ClientInfo" title="Ten.Daemon.Server">ClientInfo</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:ShowS" title="Prelude.Compat">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ten-Daemon-Server.html#t:ClientInfo" title="Ten.Daemon.Server">ClientInfo</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ten-Daemon-Server.html#t:ClientInfo" title="Ten.Daemon.Server">ClientInfo</a>] -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:ShowS" title="Prelude.Compat">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ClientState" class="def">ClientState</a> <a href="#t:ClientState" class="selflink">#</a></p><div class="doc"><p>Client state tracking</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Authenticating" class="def">Authenticating</a></td><td class="doc"><p>Client is in authentication process</p></td></tr><tr><td class="src"><a id="v:Active" class="def">Active</a></td><td class="doc"><p>Client is actively connected</p></td></tr><tr><td class="src"><a id="v:ShuttingDown" class="def">ShuttingDown</a></td><td class="doc"><p>Client is being disconnected</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ClientState">Instances</h4><details id="i:ClientState" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ClientState:Show:1"></span> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:Show" title="Prelude.Compat">Show</a> <a href="Ten-Daemon-Server.html#t:ClientState" title="Ten.Daemon.Server">ClientState</a></span> <a href="#t:ClientState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ClientState:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ten-Daemon-Server.html">Ten.Daemon.Server</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Foreign-Compat.html#t:Int" title="Foreign.Compat">Int</a> -&gt; <a href="Ten-Daemon-Server.html#t:ClientState" title="Ten.Daemon.Server">ClientState</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:ShowS" title="Prelude.Compat">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ten-Daemon-Server.html#t:ClientState" title="Ten.Daemon.Server">ClientState</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ten-Daemon-Server.html#t:ClientState" title="Ten.Daemon.Server">ClientState</a>] -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:ShowS" title="Prelude.Compat">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ClientState:Eq:2"></span> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:Eq" title="Prelude.Compat">Eq</a> <a href="Ten-Daemon-Server.html#t:ClientState" title="Ten.Daemon.Server">ClientState</a></span> <a href="#t:ClientState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ClientState:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ten-Daemon-Server.html">Ten.Daemon.Server</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Ten-Daemon-Server.html#t:ClientState" title="Ten.Daemon.Server">ClientState</a> -&gt; <a href="Ten-Daemon-Server.html#t:ClientState" title="Ten.Daemon.Server">ClientState</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Data-Bool-Compat.html#t:Bool" title="Data.Bool.Compat">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Ten-Daemon-Server.html#t:ClientState" title="Ten.Daemon.Server">ClientState</a> -&gt; <a href="Ten-Daemon-Server.html#t:ClientState" title="Ten.Daemon.Server">ClientState</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Data-Bool-Compat.html#t:Bool" title="Data.Bool.Compat">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:ActiveClients" class="def">ActiveClients</a> = TVar (<a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Control-Concurrent-Compat.html#t:ThreadId" title="Control.Concurrent.Compat">ThreadId</a> <a href="Ten-Daemon-Server.html#t:ClientInfo" title="Ten.Daemon.Server">ClientInfo</a>) <a href="#t:ActiveClients" class="selflink">#</a></p><div class="doc"><p>Collection of active client connections</p></div></div><div class="top"><p class="src"><a id="v:addClient" class="def">addClient</a> :: <a href="Ten-Daemon-Server.html#t:ActiveClients" title="Ten.Daemon.Server">ActiveClients</a> -&gt; <a href="Ten-Daemon-Server.html#t:ClientInfo" title="Ten.Daemon.Server">ClientInfo</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:IO" title="Prelude.Compat">IO</a> () <a href="#v:addClient" class="selflink">#</a></p><div class="doc"><p>Add a client to the active clients map</p></div></div><div class="top"><p class="src"><a id="v:removeClient" class="def">removeClient</a> :: <a href="Ten-Daemon-Server.html#t:ActiveClients" title="Ten.Daemon.Server">ActiveClients</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Control-Concurrent-Compat.html#t:ThreadId" title="Control.Concurrent.Compat">ThreadId</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:IO" title="Prelude.Compat">IO</a> () <a href="#v:removeClient" class="selflink">#</a></p><div class="doc"><p>Remove a client from the active clients map</p></div></div><div class="top"><p class="src"><a id="v:broadcastToClients" class="def">broadcastToClients</a> :: <a href="Ten-Daemon-Server.html#t:ActiveClients" title="Ten.Daemon.Server">ActiveClients</a> -&gt; ByteString -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:IO" title="Prelude.Compat">IO</a> () <a href="#v:broadcastToClients" class="selflink">#</a></p><div class="doc"><p>Broadcast a message to all clients</p></div></div><div class="top"><p class="src"><a id="v:validateRequestPermissions" class="def">validateRequestPermissions</a> :: <span class="keyword">forall</span> (t :: <a href="Ten-Core.html#t:PrivilegeTier" title="Ten.Core">PrivilegeTier</a>). <a href="Ten-Daemon-Protocol.html#t:DaemonRequest" title="Ten.Daemon.Protocol">DaemonRequest</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Set.html#t:Set" title="Data.Set">Set</a> Permission -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/System-IO-Compat.html#t:Handle" title="System.IO.Compat">Handle</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/network-3.2.7.0-7049b8db09405a96d0f71ae1626efe11139278f72d4eaa6985a6f6f1ac21da00/share/doc/html/Network-Socket.html#t:SockAddr" title="Network.Socket">SockAddr</a> -&gt; <a href="Ten-Core.html#t:SPrivilegeTier" title="Ten.Core">SPrivilegeTier</a> t -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> t <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Data-Bool-Compat.html#t:Bool" title="Data.Bool.Compat">Bool</a> <a href="#v:validateRequestPermissions" class="selflink">#</a></p><div class="doc"><p>Validate permissions for a request with privilege tier context</p></div></div><div class="top"><p class="src"><a id="v:logSecurityEvent" class="def">logSecurityEvent</a> :: <a href="Ten-Daemon-Server.html#t:ServerControl" title="Ten.Daemon.Server">ServerControl</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:IO" title="Prelude.Compat">IO</a> () <a href="#v:logSecurityEvent" class="selflink">#</a></p><div class="doc"><p>Log a security event</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ServerControl" class="def">ServerControl</a> <a href="#t:ServerControl" class="selflink">#</a></p><div class="doc"><p>Server socket and control information</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ServerControl" class="def">ServerControl</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:scSocket" class="def">scSocket</a> :: <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/network-3.2.7.0-7049b8db09405a96d0f71ae1626efe11139278f72d4eaa6985a6f6f1ac21da00/share/doc/html/Network-Socket.html#t:Socket" title="Network.Socket">Socket</a></dfn><div class="doc"><p>Server listening socket</p></div></li><li><dfn class="src"><a id="v:scThread" class="def">scThread</a> :: <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Control-Concurrent-Compat.html#t:ThreadId" title="Control.Concurrent.Compat">ThreadId</a></dfn><div class="doc"><p>Main server thread</p></div></li><li><dfn class="src"><a id="v:scClients" class="def">scClients</a> :: <a href="Ten-Daemon-Server.html#t:ActiveClients" title="Ten.Daemon.Server">ActiveClients</a></dfn><div class="doc"><p>Connected clients</p></div></li><li><dfn class="src"><a id="v:scShutdown" class="def">scShutdown</a> :: TVar <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Data-Bool-Compat.html#t:Bool" title="Data.Bool.Compat">Bool</a></dfn><div class="doc"><p>Shutdown flag</p></div></li><li><dfn class="src"><a id="v:scState" class="def">scState</a> :: <a href="Ten-Daemon-State.html#t:DaemonState" title="Ten.Daemon.State">DaemonState</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a></dfn><div class="doc"><p>Daemon state with phantom type</p></div></li><li><dfn class="src"><a id="v:scConfig" class="def">scConfig</a> :: <a href="Ten-Core.html#t:DaemonConfig" title="Ten.Core">DaemonConfig</a></dfn><div class="doc"><p>Daemon configuration</p></div></li><li><dfn class="src"><a id="v:scAuthDb" class="def">scAuthDb</a> :: TVar <a href="Ten-Daemon-Auth.html#t:AuthDb" title="Ten.Daemon.Auth">AuthDb</a></dfn><div class="doc"><p>Authentication database</p></div></li><li><dfn class="src"><a id="v:scRateLimiter" class="def">scRateLimiter</a> :: TVar (<a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/network-3.2.7.0-7049b8db09405a96d0f71ae1626efe11139278f72d4eaa6985a6f6f1ac21da00/share/doc/html/Network-Socket.html#t:SockAddr" title="Network.Socket">SockAddr</a> (<a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Foreign-Compat.html#t:Int" title="Foreign.Compat">Int</a>, <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/time-compat-1.9.8-da55720274a37f815d13cac6abb6faf35cf8548b66ed2658ed545137f5b523e7/share/doc/html/Data-Time-Clock-Compat.html#t:UTCTime" title="Data.Time.Clock.Compat">UTCTime</a>))</dfn><div class="doc"><p>Rate limiting</p></div></li><li><dfn class="src"><a id="v:scSecurityLog" class="def">scSecurityLog</a> :: <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/System-IO-Compat.html#t:Handle" title="System.IO.Compat">Handle</a></dfn><div class="doc"><p>Security event log handle</p></div></li><li><dfn class="src"><a id="v:scAccessLog" class="def">scAccessLog</a> :: <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/System-IO-Compat.html#t:Handle" title="System.IO.Compat">Handle</a></dfn><div class="doc"><p>Access log handle</p></div></li><li><dfn class="src"><a id="v:scProcesses" class="def">scProcesses</a> :: TVar (<a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/containers-0.7-287957b18f69f7eb679451e951f3ece8d3361781073028c9843d8128d9af5445/share/doc/html/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="Ten-Core.html#t:BuildId" title="Ten.Core">BuildId</a> ProcessID)</dfn><div class="doc"><p>Active build processes</p></div></li></ul></div></td></tr></table></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.30.0</p></div></body></html>