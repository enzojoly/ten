<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Ten.DB.Schema</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">ten-0.1.0.0: A pure functional build system</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>GHC2021</td></tr></table><p class="caption">Ten.DB.Schema</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">type</span> <a href="#t:SchemaVersion">SchemaVersion</a> = <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Foreign-Compat.html#t:Int" title="Foreign.Compat">Int</a></li><li class="src short"><a href="#v:currentSchemaVersion">currentSchemaVersion</a> :: <a href="Ten-DB-Schema.html#t:SchemaVersion" title="Ten.DB.Schema">SchemaVersion</a></li><li class="src short"><a href="#v:ensureSchema">ensureSchema</a> :: <a href="Ten-Core.html#t:Database" title="Ten.Core">Database</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> ()</li><li class="src short"><a href="#v:validateSchema">validateSchema</a> :: <a href="Ten-Core.html#t:Database" title="Ten.Core">Database</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> ()</li><li class="src short"><a href="#v:migrateSchema">migrateSchema</a> :: <a href="Ten-Core.html#t:Database" title="Ten.Core">Database</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-DB-Schema.html#t:SchemaVersion" title="Ten.DB.Schema">SchemaVersion</a> -&gt; <a href="Ten-DB-Schema.html#t:SchemaVersion" title="Ten.DB.Schema">SchemaVersion</a> -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> ()</li><li class="src short"><a href="#v:createTables">createTables</a> :: <a href="Ten-Core.html#t:Database" title="Ten.Core">Database</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> ()</li><li class="src short"><a href="#v:createIndices">createIndices</a> :: <a href="Ten-Core.html#t:Database" title="Ten.Core">Database</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> ()</li><li class="src short"><a href="#v:derivationsTableDef">derivationsTableDef</a> :: <a href="Ten-DB-Core.html#t:Query" title="Ten.DB.Core">Query</a></li><li class="src short"><a href="#v:outputsTableDef">outputsTableDef</a> :: <a href="Ten-DB-Core.html#t:Query" title="Ten.DB.Core">Query</a></li><li class="src short"><a href="#v:referencesTableDef">referencesTableDef</a> :: <a href="Ten-DB-Core.html#t:Query" title="Ten.DB.Core">Query</a></li><li class="src short"><a href="#v:validPathsTableDef">validPathsTableDef</a> :: <a href="Ten-DB-Core.html#t:Query" title="Ten.DB.Core">Query</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Migration">Migration</a> = <a href="#v:Migration">Migration</a> {<ul class="subs"><li><a href="#v:migrationVersion">migrationVersion</a> :: <a href="Ten-DB-Schema.html#t:SchemaVersion" title="Ten.DB.Schema">SchemaVersion</a></li><li><a href="#v:migrationDescription">migrationDescription</a> :: <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a></li><li><a href="#v:migrationUp">migrationUp</a> :: <a href="Ten-Core.html#t:Database" title="Ten.Core">Database</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> ()</li><li><a href="#v:migrationDown">migrationDown</a> :: <a href="Ten-Core.html#t:Database" title="Ten.Core">Database</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> ()</li></ul>}</li><li class="src short"><a href="#v:migrations">migrations</a> :: [<a href="Ten-DB-Schema.html#t:Migration" title="Ten.DB.Schema">Migration</a>]</li><li class="src short"><a href="#v:tableExists">tableExists</a> :: <a href="Ten-Core.html#t:Database" title="Ten.Core">Database</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Data-Bool-Compat.html#t:Bool" title="Data.Bool.Compat">Bool</a></li><li class="src short"><a href="#v:columnExists">columnExists</a> :: <a href="Ten-Core.html#t:Database" title="Ten.Core">Database</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Data-Bool-Compat.html#t:Bool" title="Data.Bool.Compat">Bool</a></li><li class="src short"><a href="#v:indexExists">indexExists</a> :: <a href="Ten-Core.html#t:Database" title="Ten.Core">Database</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Data-Bool-Compat.html#t:Bool" title="Data.Bool.Compat">Bool</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:SchemaElement">SchemaElement</a><ul class="subs"><li>= <a href="#v:Table">Table</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a></li><li>| <a href="#v:Index">Index</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a></li><li>| <a href="#v:Column">Column</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a></li><li>| <a href="#v:Constraint">Constraint</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a></li><li>| <a href="#v:Trigger">Trigger</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a></li></ul></li><li class="src short"><a href="#v:getSchemaElements">getSchemaElements</a> :: <a href="Ten-Core.html#t:Database" title="Ten.Core">Database</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> [<a href="Ten-DB-Schema.html#t:SchemaElement" title="Ten.DB.Schema">SchemaElement</a>]</li><li class="src short"><span class="keyword">data</span> <a href="#t:SchemaError">SchemaError</a><ul class="subs"><li>= <a href="#v:SchemaMissingTable">SchemaMissingTable</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a></li><li>| <a href="#v:SchemaMissingColumn">SchemaMissingColumn</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a></li><li>| <a href="#v:SchemaMissingIndex">SchemaMissingIndex</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a></li><li>| <a href="#v:SchemaInvalidVersion">SchemaInvalidVersion</a> <a href="Ten-DB-Schema.html#t:SchemaVersion" title="Ten.DB.Schema">SchemaVersion</a> <a href="Ten-DB-Schema.html#t:SchemaVersion" title="Ten.DB.Schema">SchemaVersion</a></li><li>| <a href="#v:SchemaMigrationFailed">SchemaMigrationFailed</a> <a href="Ten-DB-Schema.html#t:SchemaVersion" title="Ten.DB.Schema">SchemaVersion</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a></li><li>| <a href="#v:SchemaValidationFailed">SchemaValidationFailed</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a></li></ul></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:SchemaVersion" class="def">SchemaVersion</a> = <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Foreign-Compat.html#t:Int" title="Foreign.Compat">Int</a> <a href="#t:SchemaVersion" class="selflink">#</a></p><div class="doc"><p>Schema version type</p></div></div><div class="top"><p class="src"><a id="v:currentSchemaVersion" class="def">currentSchemaVersion</a> :: <a href="Ten-DB-Schema.html#t:SchemaVersion" title="Ten.DB.Schema">SchemaVersion</a> <a href="#v:currentSchemaVersion" class="selflink">#</a></p><div class="doc"><p>Current schema version</p></div></div><div class="top"><p class="src"><a id="v:ensureSchema" class="def">ensureSchema</a> :: <a href="Ten-Core.html#t:Database" title="Ten.Core">Database</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> () <a href="#v:ensureSchema" class="selflink">#</a></p><div class="doc"><p>Ensure the database schema is properly set up</p></div></div><div class="top"><p class="src"><a id="v:validateSchema" class="def">validateSchema</a> :: <a href="Ten-Core.html#t:Database" title="Ten.Core">Database</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> () <a href="#v:validateSchema" class="selflink">#</a></p><div class="doc"><p>Validate the schema is correct</p></div></div><div class="top"><p class="src"><a id="v:migrateSchema" class="def">migrateSchema</a> :: <a href="Ten-Core.html#t:Database" title="Ten.Core">Database</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-DB-Schema.html#t:SchemaVersion" title="Ten.DB.Schema">SchemaVersion</a> -&gt; <a href="Ten-DB-Schema.html#t:SchemaVersion" title="Ten.DB.Schema">SchemaVersion</a> -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> () <a href="#v:migrateSchema" class="selflink">#</a></p><div class="doc"><p>Migrate the schema from one version to another</p></div></div><div class="top"><p class="src"><a id="v:createTables" class="def">createTables</a> :: <a href="Ten-Core.html#t:Database" title="Ten.Core">Database</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> () <a href="#v:createTables" class="selflink">#</a></p><div class="doc"><p>Create all database tables</p></div></div><div class="top"><p class="src"><a id="v:createIndices" class="def">createIndices</a> :: <a href="Ten-Core.html#t:Database" title="Ten.Core">Database</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> () <a href="#v:createIndices" class="selflink">#</a></p><div class="doc"><p>Create all indices for performance</p></div></div><div class="top"><p class="src"><a id="v:derivationsTableDef" class="def">derivationsTableDef</a> :: <a href="Ten-DB-Core.html#t:Query" title="Ten.DB.Core">Query</a> <a href="#v:derivationsTableDef" class="selflink">#</a></p><div class="doc"><p>SQL for creating Derivations table</p></div></div><div class="top"><p class="src"><a id="v:outputsTableDef" class="def">outputsTableDef</a> :: <a href="Ten-DB-Core.html#t:Query" title="Ten.DB.Core">Query</a> <a href="#v:outputsTableDef" class="selflink">#</a></p><div class="doc"><p>SQL for creating Outputs table</p></div></div><div class="top"><p class="src"><a id="v:referencesTableDef" class="def">referencesTableDef</a> :: <a href="Ten-DB-Core.html#t:Query" title="Ten.DB.Core">Query</a> <a href="#v:referencesTableDef" class="selflink">#</a></p><div class="doc"><p>SQL for creating References table</p></div></div><div class="top"><p class="src"><a id="v:validPathsTableDef" class="def">validPathsTableDef</a> :: <a href="Ten-DB-Core.html#t:Query" title="Ten.DB.Core">Query</a> <a href="#v:validPathsTableDef" class="selflink">#</a></p><div class="doc"><p>SQL for creating ValidPaths table</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Migration" class="def">Migration</a> <a href="#t:Migration" class="selflink">#</a></p><div class="doc"><p>Migration definition</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Migration" class="def">Migration</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:migrationVersion" class="def">migrationVersion</a> :: <a href="Ten-DB-Schema.html#t:SchemaVersion" title="Ten.DB.Schema">SchemaVersion</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:migrationDescription" class="def">migrationDescription</a> :: <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:migrationUp" class="def">migrationUp</a> :: <a href="Ten-Core.html#t:Database" title="Ten.Core">Database</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> ()</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:migrationDown" class="def">migrationDown</a> :: <a href="Ten-Core.html#t:Database" title="Ten.Core">Database</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> ()</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:migrations" class="def">migrations</a> :: [<a href="Ten-DB-Schema.html#t:Migration" title="Ten.DB.Schema">Migration</a>] <a href="#v:migrations" class="selflink">#</a></p><div class="doc"><p>Migration definitions</p></div></div><div class="top"><p class="src"><a id="v:tableExists" class="def">tableExists</a> :: <a href="Ten-Core.html#t:Database" title="Ten.Core">Database</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Data-Bool-Compat.html#t:Bool" title="Data.Bool.Compat">Bool</a> <a href="#v:tableExists" class="selflink">#</a></p><div class="doc"><p>Check if a table exists</p></div></div><div class="top"><p class="src"><a id="v:columnExists" class="def">columnExists</a> :: <a href="Ten-Core.html#t:Database" title="Ten.Core">Database</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Data-Bool-Compat.html#t:Bool" title="Data.Bool.Compat">Bool</a> <a href="#v:columnExists" class="selflink">#</a></p><div class="doc"><p>Check if a column exists in a table</p></div></div><div class="top"><p class="src"><a id="v:indexExists" class="def">indexExists</a> :: <a href="Ten-Core.html#t:Database" title="Ten.Core">Database</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Data-Bool-Compat.html#t:Bool" title="Data.Bool.Compat">Bool</a> <a href="#v:indexExists" class="selflink">#</a></p><div class="doc"><p>Check if an index exists</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SchemaElement" class="def">SchemaElement</a> <a href="#t:SchemaElement" class="selflink">#</a></p><div class="doc"><p>Schema element types</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Table" class="def">Table</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a></td><td class="doc"><p>A database table</p></td></tr><tr><td class="src"><a id="v:Index" class="def">Index</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a></td><td class="doc"><p>A database index</p></td></tr><tr><td class="src"><a id="v:Column" class="def">Column</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a></td><td class="doc"><p>A column in a table (table, column)</p></td></tr><tr><td class="src"><a id="v:Constraint" class="def">Constraint</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a></td><td class="doc"><p>A constraint (table, constraint name)</p></td></tr><tr><td class="src"><a id="v:Trigger" class="def">Trigger</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a></td><td class="doc"><p>A database trigger</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:SchemaElement">Instances</h4><details id="i:SchemaElement" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SchemaElement:Show:1"></span> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:Show" title="Prelude.Compat">Show</a> <a href="Ten-DB-Schema.html#t:SchemaElement" title="Ten.DB.Schema">SchemaElement</a></span> <a href="#t:SchemaElement" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SchemaElement:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ten-DB-Schema.html">Ten.DB.Schema</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Foreign-Compat.html#t:Int" title="Foreign.Compat">Int</a> -&gt; <a href="Ten-DB-Schema.html#t:SchemaElement" title="Ten.DB.Schema">SchemaElement</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:ShowS" title="Prelude.Compat">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ten-DB-Schema.html#t:SchemaElement" title="Ten.DB.Schema">SchemaElement</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ten-DB-Schema.html#t:SchemaElement" title="Ten.DB.Schema">SchemaElement</a>] -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:ShowS" title="Prelude.Compat">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SchemaElement:Eq:2"></span> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:Eq" title="Prelude.Compat">Eq</a> <a href="Ten-DB-Schema.html#t:SchemaElement" title="Ten.DB.Schema">SchemaElement</a></span> <a href="#t:SchemaElement" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SchemaElement:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ten-DB-Schema.html">Ten.DB.Schema</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Ten-DB-Schema.html#t:SchemaElement" title="Ten.DB.Schema">SchemaElement</a> -&gt; <a href="Ten-DB-Schema.html#t:SchemaElement" title="Ten.DB.Schema">SchemaElement</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Data-Bool-Compat.html#t:Bool" title="Data.Bool.Compat">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Ten-DB-Schema.html#t:SchemaElement" title="Ten.DB.Schema">SchemaElement</a> -&gt; <a href="Ten-DB-Schema.html#t:SchemaElement" title="Ten.DB.Schema">SchemaElement</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Data-Bool-Compat.html#t:Bool" title="Data.Bool.Compat">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:getSchemaElements" class="def">getSchemaElements</a> :: <a href="Ten-Core.html#t:Database" title="Ten.Core">Database</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> -&gt; <a href="Ten-Core.html#t:TenM" title="Ten.Core">TenM</a> '<a href="Ten-Core.html#v:Build" title="Ten.Core">Build</a> '<a href="Ten-Core.html#v:Daemon" title="Ten.Core">Daemon</a> [<a href="Ten-DB-Schema.html#t:SchemaElement" title="Ten.DB.Schema">SchemaElement</a>] <a href="#v:getSchemaElements" class="selflink">#</a></p><div class="doc"><p>Get all schema elements (tables, indices, etc.)</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SchemaError" class="def">SchemaError</a> <a href="#t:SchemaError" class="selflink">#</a></p><div class="doc"><p>Schema-related errors</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SchemaMissingTable" class="def">SchemaMissingTable</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:SchemaMissingColumn" class="def">SchemaMissingColumn</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:SchemaMissingIndex" class="def">SchemaMissingIndex</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:SchemaInvalidVersion" class="def">SchemaInvalidVersion</a> <a href="Ten-DB-Schema.html#t:SchemaVersion" title="Ten.DB.Schema">SchemaVersion</a> <a href="Ten-DB-Schema.html#t:SchemaVersion" title="Ten.DB.Schema">SchemaVersion</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:SchemaMigrationFailed" class="def">SchemaMigrationFailed</a> <a href="Ten-DB-Schema.html#t:SchemaVersion" title="Ten.DB.Schema">SchemaVersion</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:SchemaValidationFailed" class="def">SchemaValidationFailed</a> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/text-2.1.2-e2d1387948919f85f2e0df48ac47706519cc0d977077b7da218bef2b11c9373c/share/doc/html/Data-Text.html#t:Text" title="Data.Text">Text</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:SchemaError">Instances</h4><details id="i:SchemaError" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SchemaError:Show:1"></span> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:Show" title="Prelude.Compat">Show</a> <a href="Ten-DB-Schema.html#t:SchemaError" title="Ten.DB.Schema">SchemaError</a></span> <a href="#t:SchemaError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SchemaError:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ten-DB-Schema.html">Ten.DB.Schema</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Foreign-Compat.html#t:Int" title="Foreign.Compat">Int</a> -&gt; <a href="Ten-DB-Schema.html#t:SchemaError" title="Ten.DB.Schema">SchemaError</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:ShowS" title="Prelude.Compat">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ten-DB-Schema.html#t:SchemaError" title="Ten.DB.Schema">SchemaError</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ten-DB-Schema.html#t:SchemaError" title="Ten.DB.Schema">SchemaError</a>] -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:ShowS" title="Prelude.Compat">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SchemaError:Eq:2"></span> <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Prelude-Compat.html#t:Eq" title="Prelude.Compat">Eq</a> <a href="Ten-DB-Schema.html#t:SchemaError" title="Ten.DB.Schema">SchemaError</a></span> <a href="#t:SchemaError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SchemaError:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ten-DB-Schema.html">Ten.DB.Schema</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Ten-DB-Schema.html#t:SchemaError" title="Ten.DB.Schema">SchemaError</a> -&gt; <a href="Ten-DB-Schema.html#t:SchemaError" title="Ten.DB.Schema">SchemaError</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Data-Bool-Compat.html#t:Bool" title="Data.Bool.Compat">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Ten-DB-Schema.html#t:SchemaError" title="Ten.DB.Schema">SchemaError</a> -&gt; <a href="Ten-DB-Schema.html#t:SchemaError" title="Ten.DB.Schema">SchemaError</a> -&gt; <a href="file:///home/enzo/.local/state/cabal/store/ghc-9.8.2-32bd/base-compat-0.14.1-1b9c6a4b7a04bbce01b5eeff7db9e72e7146dd401b9e63ce5686d992a42aeb1c/share/doc/html/Data-Bool-Compat.html#t:Bool" title="Data.Bool.Compat">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.30.0</p></div></body></html>